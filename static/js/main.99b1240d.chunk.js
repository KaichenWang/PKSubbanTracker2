(this.webpackJsonppksubbantracker=this.webpackJsonppksubbantracker||[]).push([[0],{27:function(e,s,t){},28:function(e,s,t){},32:function(e,s,t){},33:function(e,s,t){},35:function(e,s,t){},36:function(e,s,t){},37:function(e,s,t){},38:function(e,s,t){},45:function(e,s,t){"use strict";t.r(s);var n=t(1),a=t.n(n),i=t(21),o=t.n(i),c=(t(27),t(10)),r=(t(28),"20202021"),l=[{id:8474056,firstName:"P.K.",lastName:"Subban",stats:{total:{teamId:1,games:0,goals:0,assists:0,points:0,plusMinus:0},"20192020p":{teamId:1,games:0,goals:0,assists:0,points:0,plusMinus:0},20192020:{teamId:1,games:68,goals:7,assists:11,points:18,plusMinus:-21},"20182019p":{teamId:18,games:6,goals:1,assists:2,points:3,plusMinus:-3},20182019:{teamId:18,games:63,goals:9,assists:22,points:31,plusMinus:5},"20172018p":{teamId:18,games:13,goals:4,assists:5,points:9,plusMinus:-2},20172018:{teamId:18,games:82,goals:16,assists:43,points:59,plusMinus:18},"20162017p":{teamId:18,games:22,goals:2,assists:10,points:12,plusMinus:5},20162017:{teamId:18,games:66,goals:10,assists:30,points:40,plusMinus:-8}}},{id:8470642,firstName:"Shea",lastName:"Weber",stats:{total:{teamId:8,games:0,goals:0,assists:0,points:0,plusMinus:0},"20192020p":{teamId:8,games:10,goals:3,assists:2,points:5,plusMinus:3},20192020:{teamId:8,games:65,goals:15,assists:21,points:36,plusMinus:8},"20182019p":{teamId:8,games:0,goals:0,assists:0,points:0,plusMinus:0},20182019:{teamId:8,games:58,goals:14,assists:19,points:33,plusMinus:15},"20172018p":{teamId:8,games:0,goals:0,assists:0,points:0,plusMinus:0},20172018:{teamId:8,games:26,goals:6,assists:10,points:16,plusMinus:-8},"20162017p":{teamId:8,games:6,goals:1,assists:2,points:3,plusMinus:1},20162017:{teamId:8,games:78,goals:17,assists:25,points:42,plusMinus:20}}}],u=[{id:1,location:"New Jersey",name:"Devils",stats:{"20192020p":{win:0,loss:0,overtimeLoss:null,type:"playoff",round:"No playoffs",points:null},20192020:{win:28,loss:29,overtimeLoss:12,type:"league",round:null,points:68}}},{id:8,location:"Montreal",name:"Canadiens",stats:{"20192020p":{win:2,loss:4,overtimeLoss:null,type:"playoff",round:"Round 1",points:null},20192020:{win:28,loss:29,overtimeLoss:12,type:"league",round:null,points:68},"20182019p":{win:0,loss:0,overtimeLoss:null,type:"playoff",round:"No playoffs",points:null},20182019:{win:44,loss:30,overtimeLoss:8,type:"league",round:null,points:96},"20172018p":{win:0,loss:0,overtimeLoss:null,type:"playoff",round:"No playoffs",points:null},20172018:{win:29,loss:40,overtimeLoss:13,type:"league",round:null,points:71},"20162017p":{win:2,loss:4,overtimeLoss:null,type:"playoff",round:"Round 1",points:null},20162017:{win:47,loss:26,overtimeLoss:9,type:"league",round:null,points:103}}},{id:18,location:"Nashville",name:"Predators",stats:{"20182019p":{win:2,loss:4,overtimeLoss:null,type:"playoff",round:"Round 1",points:null},20182019:{win:47,loss:29,overtimeLoss:6,type:"league",round:null,points:100},"20172018p":{win:3,loss:4,overtimeLoss:null,type:"playoff",round:"Round 2",points:null},20172018:{win:53,loss:18,overtimeLoss:11,type:"league",round:null,points:117},"20162017p":{win:2,loss:4,overtimeLoss:null,type:"playoff",round:"CUP FINAL",points:null},20162017:{win:41,loss:29,overtimeLoss:12,type:"league",round:null,points:94}}}],d=[{id:"20202021",name:"2020-2021"},{id:"20192020p",name:"Playoffs 2020"},{id:"20192020",name:"2019-2020"},{id:"20182019p",name:"Playoffs 2019"},{id:"20182019",name:"2018-2019"},{id:"20172018p",name:"Playoffs 2018"},{id:"20172018",name:"2017-2018"},{id:"20162017p",name:"Playoffs 2017"},{id:"20162017",name:"2016-2017"},{id:"total",name:"Totals since trade"}],p=t(14),m=t(8),j=t.n(m),f=t(11),h=function(){var e=Object(f.a)(j.a.mark((function e(s,t){var n,a,i,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://statsapi.web.nhl.com/api/v1/people/".concat(s,"/stats?stats=yearByYear"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,i=a.stats[0].splits,!((o=i.filter((function(e){return e.season===t}))).length<1)){e.next=10;break}return e.abrupt("return");case 10:return c=o[0],e.abrupt("return",{id:t,stats:{teamId:c.team.id,games:c.stat.games,goals:c.stat.goals,assists:c.stat.assists,points:c.stat.points,plusMinus:c.stat.plusMinus}});case 12:case"end":return e.stop()}}),e)})));return function(s,t){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(j.a.mark((function e(s){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://statsapi.web.nhl.com/api/v1/standings?season=".concat(s));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a={},n.records.forEach((function(e){e.teamRecords.forEach((function(e){var s=e.leagueRecord;s.points=e.points,s.round=null,a[e.team.id]=s}))})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),v=function(e,s){var t=Object.assign({},e),n=s.id,a=s.stats;t.stats[n]=a;var i=t.stats.total;return t.stats.total={teamId:i.teamId,games:i.games+a.games,goals:i.goals+a.goals,assists:i.assists+a.assists,points:i.points+a.points,plusMinus:i.plusMinus+a.plusMinus},t},g=function(e,s){var t=Object.assign({},e),n=s.id,a=s.stats;return e.stats[n]={win:a.wins,loss:a.losses,overtimeLoss:a.ot,type:a.type,round:a.round,points:a.points},t},O=function(e){var s=Object(n.useRef)();return Object(n.useEffect)((function(){s.current=e})),s.current},x=function(e,s,t,n){var a=null;return e!==s&&t===n&&s!==n?a="state":t!==n&&e===s&&s!==n&&(a="param"),a},w=t(2),y=t(15),N=t(4),I=(t(32),t(33),t(0));var L=function(e){var s=e.inverse;return Object(I.jsx)("div",{className:"Loader ".concat(s?"Loader--inverse":"")})};var M=function(e){var s=e.player,t=e.team,n=e.seasonId,a=s.stats[n],i=null===t||void 0===t?void 0:t.stats[n];return Object(I.jsxs)("div",{className:"Card",children:[s&&t&&Object(I.jsx)("img",{src:"".concat("","/").concat(s.id,"_").concat(null===t||void 0===t?void 0:t.id,".jpg"),alt:"".concat(s.firstName," ").concat(s.lastName)}),s&&Object(I.jsxs)("div",{className:"Card__content",children:[Object(I.jsxs)("h1",{className:"Card__title",children:[s.firstName," ",s.lastName]}),a&&Object(I.jsxs)("table",{className:"Card__table",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"GP"}),Object(I.jsx)("th",{children:"G"}),Object(I.jsx)("th",{children:"A"}),Object(I.jsx)("th",{children:"P"}),Object(I.jsx)("th",{children:"+/-"})]})}),Object(I.jsx)("tbody",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:a.games}),Object(I.jsx)("td",{children:a.goals}),Object(I.jsx)("td",{children:a.assists}),Object(I.jsx)("td",{children:a.points}),Object(I.jsx)("td",{children:a.plusMinus})]})})]}),!a&&Object(I.jsx)(L,{inverse:!0})]}),"total"!==n&&i&&Object(I.jsxs)("div",{className:"Card__bubble",children:[Object(I.jsx)("span",{children:t.name}),"\xa0\xa0\xa0\xa0","league"===i.type&&Object(I.jsxs)("span",{children:[Object(I.jsxs)("span",{children:[i.win,"-"]}),Object(I.jsx)("span",{children:i.loss}),Object(I.jsxs)("span",{children:["-",i.overtimeLoss]}),"\xa0\xa0\xa0\xa0"]}),"league"===i.type&&Object(I.jsxs)("span",{children:[i.points," Points"]}),"playoff"===i.type&&Object(I.jsx)("span",{children:i.round})]})]})};t(35);var _=function(e){var s=e.seasonId,t=e.handleError,a=Object(n.useState)(),i=Object(c.a)(a,2),o=i[0],d=i[1],m=Object(n.useState)(u),O=Object(c.a)(m,2),x=O[0],w=O[1];return Object(n.useEffect)((function(){var e=function(e){var s=Object(p.a)(e);return s.forEach((function(e){var s=e.stats.total;Object.keys(e.stats).forEach((function(t){if("total"!==t){var n=e.stats[t];s.games+=n.games,s.goals+=n.goals,s.assists+=n.assists,s.points+=n.points,s.plusMinus+=n.plusMinus}}))})),s}(l);function s(){return(s=Object(f.a)(j.a.mark((function s(){var n,a,i;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=Object(p.a)(e),a=[],s.next=5,Promise.all(l.map(function(){var e=Object(f.a)(j.a.mark((function e(s){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.findIndex((function(e){return s.id===e.id})),e.t0=v,e.t1=s,e.next=5,h(s.id,r);case 5:e.t2=e.sent,n[t]=(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}()));case 5:return d(n),s.next=8,b(r);case 8:i=s.sent,u.forEach((function(e){a.push(g(e,{id:r,stats:i[e.id]}))})),w(a),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),t();case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))).apply(this,arguments)}d(e),function(){s.apply(this,arguments)}()}),[]),Object(I.jsx)("div",{className:"Stats",children:o&&o.map((function(e){return Object(I.jsx)("div",{className:"Stats__item",children:Object(I.jsx)(M,{player:e,team:x.find((function(t){var n;return t.id===(null===(n=e.stats[s])||void 0===n?void 0:n.teamId)})),seasonId:s})},e.id)}))})};t(36),t(37);var C=function(e){var s=e.children,t=e.isActive,a=e.handleClose,i=e.closeLabel,o=Object(n.createRef)(),c=Object(n.createRef)(),r=Object(n.createRef)();return Object(n.useEffect)((function(){if(o.current){var e,s=(e=o.current,function(s){var t=e.querySelectorAll("a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,[tabindex],[contentEditable=true]"),n=t[0],a=t[t.length-1];9===s.keyCode&&(s.shiftKey&&document.activeElement===n?(s.preventDefault(),a.focus()):s.shiftKey||document.activeElement!==a||(s.preventDefault(),n.focus()))});t?(r.current.focus(),document.addEventListener("keydown",s)):document.removeEventListener("keydown",s)}}),[t,o,r]),Object(I.jsxs)("div",{className:"Popup ".concat(t?"active":""),role:t?"dialog":"","aria-modal":t,"aria-hidden":!t,tabIndex:"-1",ref:o,children:[Object(I.jsx)("div",{className:"Popup__header",children:Object(I.jsxs)("button",{"aria-label":i,onClick:a,ref:r,children:[Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 329.26933 329",width:"1.2rem","aria-hidden":"true",children:Object(I.jsx)("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"})}),Object(I.jsx)("span",{children:i})]})}),Object(I.jsx)("div",{className:"Popup__content",ref:c,children:s})]})};var S=function(e){var s=e.commentsActive,t=e.setCommentsActive,a=e.setFocus;return Object(n.useEffect)((function(){!function(){var e=window.document.createElement("script");e.id="facebook-jssdk",e.async=!0,e.defer=!0,e.crossOrigin="anonymous",e.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0&appId=1825083474401640",window.document.body.appendChild(e)}()}),[]),Object(I.jsx)(C,{closeLabel:"Close discussion",handleClose:function(){t(!s),a.current.focus()},isActive:s,children:Object(I.jsxs)("div",{className:"Comments",children:[Object(I.jsx)("div",{className:"Comments__loader",children:Object(I.jsx)(L,{inverse:!0})}),Object(I.jsxs)("div",{className:"Comments__content",children:[Object(I.jsx)("div",{id:"fb-root"}),Object(I.jsx)("div",{className:"fb-wrapper",id:"fb-main",children:Object(I.jsx)("div",{className:"fb-comments","data-href":"http://www.pksubbantracker.com/","data-width":"100%","data-numposts":"8","data-order-by":"reverse_time"})})]})]})})};t(38);var k=function(e){var s=e.children,t=e.onChange,n=e.value,a=e.id,i=a||"";return Object(I.jsxs)("div",{className:"Select",children:[Object(I.jsx)("select",{id:i,className:"Select__select",onChange:t,value:n,children:s}),Object(I.jsx)("svg",{className:"Select__icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 491.996 491.996",children:Object(I.jsx)("path",{d:"M484.132 124.986l-16.116-16.228c-5.072-5.068-11.82-7.86-19.032-7.86-7.208 0-13.964 2.792-19.036 7.86l-183.84 183.848L62.056 108.554c-5.064-5.068-11.82-7.856-19.028-7.856s-13.968 2.788-19.036 7.856l-16.12 16.128c-10.496 10.488-10.496 27.572 0 38.06l219.136 219.924c5.064 5.064 11.812 8.632 19.084 8.632h.084c7.212 0 13.96-3.572 19.024-8.632l218.932-219.328c5.072-5.064 7.856-12.016 7.864-19.224 0-7.212-2.792-14.068-7.864-19.128z"})})]})};y.a.initialize("UA-86116525-1"),Object(N.a)().listen((function(e){y.a.set({page:e.pathname}),y.a.pageview(e.pathname)}));var E=function(){var e=Object(n.useState)(d),s=Object(c.a)(e,2),t=s[0],a=s[1],i=Object(n.useState)(),o=Object(c.a)(i,2),l=o[0],u=o[1],p=Object(n.useState)(),m=Object(c.a)(p,2),j=m[0],f=m[1],h=Object(n.createRef)(),b=Object(w.d)(),v=Object(w.e)(),g=O(new URLSearchParams(v.search)),y=O(l),N=O(j);return Object(n.useEffect)((function(){var e=new URLSearchParams(b.location.search),s=e.get("season")?e.get("season"):r,t="undefined"===typeof g?null:g.get("season")?g.get("season"):r,n=l,a=x(t,s,"undefined"===typeof y?l:y,n);"state"===a?u(s):"param"===a&&(n===r?e.delete("season"):e.set("season",n),b.replace({search:e.toString()}))}),[g,b,l,y]),Object(n.useEffect)((function(){var e=new URLSearchParams(b.location.search),s="true"===e.get("comments"),t=g?"true"===g.get("comments"):!s,n=j,a=x(t,s,"undefined"===typeof N?n:N,n);"state"===a?f(s):"param"===a&&(n?(e.set("comments",!0),b.push({search:e.toString()})):(e.delete("comments"),b.replace({search:e.toString()})))}),[g,b,j,N]),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)("main",{className:"App__main",children:Object(I.jsx)(_,{seasonId:l,handleError:function(){var e,s=d.filter((function(e){return e.id!==r}));a(s),u(null===(e=s[0])||void 0===e?void 0:e.id)}})}),Object(I.jsxs)("div",{className:"App__actions",children:[Object(I.jsx)(k,{onChange:function(e){u(e.currentTarget.value)},value:l,id:"SeasonId",children:t.map((function(e){return Object(I.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(I.jsx)("label",{className:"visually-hidden",htmlFor:"SeasonId",children:"Select season"}),Object(I.jsxs)("button",{"aria-label":"Open discussion",onClick:function(){f(!j)},ref:h,children:[Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.8rem",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(I.jsx)("path",{d:"M22 3v13h-11.643l-4.357 3.105v-3.105h-4v-13h20zm2-2h-24v16.981h4v5.019l7-5.019h13v-16.981zm-5 6h-14v-1h14v1zm0 2h-14v1h14v-1zm-6 3h-8v1h8v-1z"})}),Object(I.jsx)("span",{"aria-hidden":"true",children:"Discussion"})]})]}),Object(I.jsx)(S,{commentsActive:j,setCommentsActive:f,setFocus:h})]})},P=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(s){var t=s.getCLS,n=s.getFID,a=s.getFCP,i=s.getLCP,o=s.getTTFB;t(e),n(e),a(e),i(e),o(e)}))},R=t(18);o.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(R.a,{children:Object(I.jsx)(E,{})})}),document.getElementById("root")),P()}},[[45,1,2]]]);
//# sourceMappingURL=main.99b1240d.chunk.js.map